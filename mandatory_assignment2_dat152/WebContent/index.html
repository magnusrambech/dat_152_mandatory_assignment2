<!DOCTYPE html>
<html>
<head>
	<meta charset="ISO-8859-1">
	<title>Mandatory Assignment 2</title>
	<link rel="stylesheet" type="text/css" href="css/css.css">
	<script type="text/javascript" src="script/config.js"></script>
	<!--Scripts -->
    <script type="text/javascript" src="script/UIHandler.js"> </script>
    <script type="text/javascript" src="script/init.js"> </script> 
	<script type="text/javascript" src="script/ajax.js"></script>
	<script type="text/javascript" src="script/modal.js" defer></script>
</head>
<body>
	
	<h1>Mandatory Assignment 2</h1>
	
	
	<h2>Gruppemedlemmer</h2>
	<ul>
		<li>Magnus Rambech</li>
		<li>Tord Kvifte</li>
		<li>Thomas Rognes</li>
		<li>Aryan Gharshi</li>
	</ul>
	
	
	<h2>TODO:</h2>
	<ol>
		<li>Working connection to Mservices using ajax.js <strong>IN PROGRESS</strong></li>
		<li>Show existing members on page</li>
		<li>Add member</li>
	</ol>
	
	<hr>
	<h1> Team members</h1>
	
	
	
	<div id="memberlist"></div>
	<hr>
	
	
	<h2>Add a new member</h2>

	<!-- Trigger/Open The Modal -->
	<button id="myBtn">Open Modal</button>
	
	<!-- The Modal -->
	<div id="myModal" class="modal">
	
	  <!-- Modal content -->
	  <div class="modal-content">
	    <span class="close">&times;</span>
	    <p>Add a new member</p>
	
	    <form>
	    	<table>
	    		<tr>
	    			<td>First name</td>
	    			<td><input type="text" name="firstName"></td>
	    		</tr>
	    		<tr>
	    			<td>Last name</td>
	    			<td><input type="text" name="lastName"></td>
	    		</tr>
	    		<tr>
	    			<td>Address</td>
	    			<td><input type="text" name="address"></td>
	    		</tr>
	    		<tr>
	    			<td>Phone</td>
	    			<td><input type="text" name="phone"></td>
	    		</tr>
	    	</table>
	    </form>
	    <button>Add member</button>
	  </div>
	
	</div>
	
	
	
	
	<hr>
	
	
	
	
	<input type="text" value="" id="memberId">
    <button id="getMember" >Get Member</button>
    <p id="memberInfo"></p>
    <script>
    "use strict";
    {
    	var memberIdElm = null
    	
    	function load() {
    	  	document.getElementById("getMember").addEventListener("click",getMember,false)
    	  	memberIdElm = document.getElementById("memberId")
    	    }
    	
    	function viewResult(m){
    		document.getElementById("memberInfo").textContent=m;
    	}
    	function getMember(e){
    		let url = config.servicesPath + "/member"
            const ajax = new AJAXConnection(url)
            ajax.onsuccess = viewResult
    	    ajax.get([memberIdElm.value])
    	
    	}
    
    	 window.addEventListener("DOMContentLoaded",load,true)
    	
    }
    
    </script>
    
 
    
    
</body>
</html>